@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-body: 'Inter', system-ui, -apple-system, sans-serif;
  }

  body {
    @apply bg-white text-text font-sans;
  }

  html {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
    
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Focus visible styles for accessibility */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-brand-primary;
  }

  /* Skip to content link */
  .skip-to-content {
    @apply absolute left-0 top-0 z-50 -translate-y-full bg-brand-accent px-6 py-3 text-white transition-transform focus:translate-y-0;
  }
}

@layer components {
  /* Responsive container with max-width scaling for all screen sizes */
  .container-custom {
    @apply mx-auto w-full px-3 xs:px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12;
    max-width: min(100%, 1920px);
  }

  /* Responsive section padding */
  .section-padding {
    @apply py-8 xs:py-12 sm:py-16 md:py-20 lg:py-24 xl:py-28 2xl:py-32;
  }

  /* Responsive typography with fluid scaling */
  .heading-1 {
    @apply font-serif font-bold tracking-tight;
    font-size: clamp(1.75rem, 4vw + 1rem, 4.5rem);
    line-height: 1.1;
  }

  .heading-2 {
    @apply font-serif font-bold tracking-tight;
    font-size: clamp(1.5rem, 3vw + 0.75rem, 3.5rem);
    line-height: 1.15;
  }

  .heading-3 {
    @apply font-serif font-bold tracking-tight;
    font-size: clamp(1.25rem, 2.5vw + 0.5rem, 2.5rem);
    line-height: 1.2;
  }

  .heading-4 {
    @apply font-serif font-semibold;
    font-size: clamp(1.125rem, 2vw + 0.25rem, 1.875rem);
    line-height: 1.3;
  }

  .body-large {
    @apply leading-relaxed text-text-light;
    font-size: clamp(1rem, 1.5vw + 0.25rem, 1.25rem);
  }

  /* Responsive buttons */
  .btn-primary {
    @apply inline-flex items-center justify-center rounded-lg bg-brand-primary text-white shadow-sm transition-all hover:bg-brand-primary-800 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2;
    padding: clamp(0.625rem, 1.5vw, 0.875rem) clamp(1.25rem, 3vw, 2rem);
    font-size: clamp(0.875rem, 1.5vw, 1.125rem);
    font-weight: 600;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-lg border-2 border-brand-secondary bg-transparent text-brand-secondary transition-all hover:bg-brand-secondary hover:text-white focus:outline-none focus:ring-2 focus:ring-brand-secondary focus:ring-offset-2;
    padding: clamp(0.625rem, 1.5vw, 0.875rem) clamp(1.25rem, 3vw, 2rem);
    font-size: clamp(0.875rem, 1.5vw, 1.125rem);
    font-weight: 600;
  }

  /* Responsive cards */
  .card {
    @apply rounded-xl border border-slate-200 bg-white shadow-sm transition-shadow hover:shadow-md;
    padding: clamp(1rem, 2vw, 1.5rem);
  }

  /* Ensure images don't overflow and are responsive */
  img {
    @apply max-w-full h-auto;
  }

  /* Responsive grid utilities */
  .grid-responsive {
    @apply grid gap-4 xs:gap-6 sm:gap-8 md:gap-10 lg:gap-12;
  }

  .grid-cols-responsive-2 {
    @apply grid-cols-1 sm:grid-cols-2;
  }

  .grid-cols-responsive-3 {
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3;
  }

  .grid-cols-responsive-4 {
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4;
  }

  /* Mobile-specific improvements (320px - 640px) */
  @media (max-width: 640px) {
    .container-custom {
      @apply px-3;
    }
    
    .section-padding {
      @apply py-8;
    }

    /* Smaller text on very small devices */
    body {
      font-size: 14px;
    }
  }

  /* Tablet improvements (640px - 1024px) */
  @media (min-width: 640px) and (max-width: 1024px) {
    .container-custom {
      max-width: 90%;
    }
  }

  /* Large screens and TVs (1920px+) */
  @media (min-width: 1920px) {
    .container-custom {
      max-width: 1920px;
      @apply px-16;
    }

    .section-padding {
      @apply py-32;
    }

    /* Prevent text from becoming too large on huge screens */
    body {
      font-size: 18px;
    }
  }

  /* Ultra-wide and 4K displays (2560px+) */
  @media (min-width: 2560px) {
    .container-custom {
      max-width: 2400px;
      @apply px-20;
    }

    /* Maintain readable line lengths on ultra-wide screens */
    p, .body-large {
      max-width: 80ch;
    }
  }

  /* Ensure touch targets are at least 44x44px on touch devices */
  @media (hover: none) and (pointer: coarse) {
    button,
    a {
      min-height: 44px;
      min-width: 44px;
      padding: 0.75rem 1rem;
    }
  }

  /* Prevent horizontal scroll */
  html, body {
    @apply overflow-x-hidden;
    max-width: 100vw;
  }

  /* Smooth scrolling for anchors */
  html {
    scroll-behavior: smooth;
  }

  /* Responsive spacing utilities */
  .space-y-responsive {
    @apply space-y-4 sm:space-y-6 md:space-y-8 lg:space-y-10;
  }

  .gap-responsive {
    @apply gap-4 sm:gap-6 md:gap-8 lg:gap-10;
  }
}

